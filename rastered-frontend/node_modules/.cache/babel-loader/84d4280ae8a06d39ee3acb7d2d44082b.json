{"ast":null,"code":"var _jsxFileName = \"/home/sk/io.rastered/rastered-frontend/src/components/videoplayer.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Form, FormControl } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VidPlayerContainer = styled.div`\n  width: 300px;\n`;\n_c = VidPlayerContainer;\nconst VidPlayerStyled = styled.div`\n  margin-top: 100px;\n  padding-left: 100px;\n  box-shadow: 10px 10px 16px rgba(0, 0, 0, 100%);\n`;\n_c2 = VidPlayerStyled;\nexport const VideoPlayer = props => {\n  _s();\n\n  useEffect(() => {\n    async function createPlayerData() {\n      /*async function setSource() {\n      \tconst response = await fetch(\"https://app.rastered.io/filter\",\n      \t\t{credentials:\"include\"});\n      \tconst responseJson = await response.json();\n      \tconst sk = await responseJson.streamKey;\n      \tconst sk = \"12345\";\n      \tlet webrtcSources = await [\n      \t  {\n      \t\ttype: \"webrtc\",\n      \t\tfile: \"wss://stream.rastered.io:3334/app/stream\"+sk,\n      \t\tlabel: \"Viewport\",\n      \t  },\n      \t];\n      \treturn webrtcSources;\n      }\n      const webrtcSources = await setSource();*/\n\n      /* TEST */\n      const webrtcSources = [{\n        type: \"webrtc\",\n        file: \"wss://a.b.de:3334/app/t\",\n        label: \"Viewport\"\n      }];\n      let op = await document.querySelector(\"#player_id\");\n      let player = await window.OvenPlayer.create(op, {\n        sources: webrtcSources,\n        autoStart: true,\n        mute: true,\n        controls: false\n      });\n      console.log(webrtcSources);\n    }\n\n    createPlayerData();\n  });\n  return /*#__PURE__*/_jsxDEV(VidPlayerContainer, {\n    children: /*#__PURE__*/_jsxDEV(VidPlayerStyled, {\n      id: \"player_id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, this);\n};\n\n_s(VideoPlayer, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c3 = VideoPlayer;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"VidPlayerContainer\");\n$RefreshReg$(_c2, \"VidPlayerStyled\");\n$RefreshReg$(_c3, \"VideoPlayer\");","map":{"version":3,"sources":["/home/sk/io.rastered/rastered-frontend/src/components/videoplayer.jsx"],"names":["React","useState","useRef","useEffect","Form","FormControl","styled","createGlobalStyle","VidPlayerContainer","div","VidPlayerStyled","VideoPlayer","props","createPlayerData","webrtcSources","type","file","label","op","document","querySelector","player","window","OvenPlayer","create","sources","autoStart","mute","controls","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,iBAAlC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,iBAAT,QAAkC,mBAAlC;;AAEA,MAAMC,kBAAkB,GAAGF,MAAM,CAACG,GAAI;AACtC;AACA,CAFA;KAAMD,kB;AAIN,MAAME,eAAe,GAAGJ,MAAM,CAACG,GAAI;AACnC;AACA;AACA;AACA,CAJA;MAAMC,e;AAQN,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AACrCT,EAAAA,SAAS,CAAE,MAAM;AACZ,mBAAeU,gBAAf,GAAkC;AACrC;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACG;AACA,YAAMC,aAAa,GAAG,CAAC;AAAEC,QAAAA,IAAI,EAAC,QAAP;AAAgBC,QAAAA,IAAI,EAAC,yBAArB;AAA+CC,QAAAA,KAAK,EAAC;AAArD,OAAD,CAAtB;AAEA,UAAIC,EAAE,GAAG,MAAMC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAf;AACA,UAAIC,MAAM,GAAG,MAAMC,MAAM,CAACC,UAAP,CAAkBC,MAAlB,CAAyBN,EAAzB,EAA6B;AAC9CO,QAAAA,OAAO,EAAEX,aADqC;AAE9CY,QAAAA,SAAS,EAAE,IAFmC;AAG9CC,QAAAA,IAAI,EAAE,IAHwC;AAI9CC,QAAAA,QAAQ,EAAE;AAJoC,OAA7B,CAAnB;AAOAC,MAAAA,OAAO,CAACC,GAAR,CAAYhB,aAAZ;AACA;;AACDD,IAAAA,gBAAgB;AACd,GAhCM,CAAT;AAkCA,sBACC,QAAC,kBAAD;AAAA,2BACE,QAAC,eAAD;AAAiB,MAAA,EAAE,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADD;AAKA,CAxCM;;GAAMF,W;;MAAAA,W","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { Form, FormControl } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport { createGlobalStyle } from \"styled-components\";\n\nconst VidPlayerContainer = styled.div`\n  width: 300px;\n`;\n\nconst VidPlayerStyled = styled.div`\n  margin-top: 100px;\n  padding-left: 100px;\n  box-shadow: 10px 10px 16px rgba(0, 0, 0, 100%);\n`;\n\n\n\nexport const VideoPlayer = (props) => {\n\tuseEffect( () => {\n    \t\tasync function createPlayerData() {\n\t\t\t/*async function setSource() {\n\t\t\t\tconst response = await fetch(\"https://app.rastered.io/filter\",\n\t\t\t\t\t{credentials:\"include\"});\n\t\t\t\tconst responseJson = await response.json();\n\t\t\t\tconst sk = await responseJson.streamKey;\n\t\t\t\tconst sk = \"12345\";\n\t\t\t\tlet webrtcSources = await [\n\t\t\t\t  {\n\t\t\t\t\ttype: \"webrtc\",\n\t\t\t\t\tfile: \"wss://stream.rastered.io:3334/app/stream\"+sk,\n\t\t\t\t\tlabel: \"Viewport\",\n\t\t\t\t  },\n\t\t\t\t];\n\t\t\t\treturn webrtcSources;\n\t\t\t}\n\t\t\tconst webrtcSources = await setSource();*/\n\t\t\t/* TEST */\n\t\t\tconst webrtcSources = [{ type:\"webrtc\",file:\"wss://a.b.de:3334/app/t\",label:\"Viewport\",}]\n\n\t\t\tlet op = await document.querySelector(\"#player_id\");\n\t\t\tlet player = await window.OvenPlayer.create(op, {\n\t\t\t  sources: webrtcSources,\n\t\t\t  autoStart: true,\n\t\t\t  mute: true,\n\t\t\t  controls: false,\n\t\t\t});\n\t\t\t\n\t\t\tconsole.log(webrtcSources);\n\t\t}\n\t\tcreatePlayerData();\n  \t});\n\n\treturn (\n\t\t<VidPlayerContainer>\n\t\t  <VidPlayerStyled id=\"player_id\" />\n\t\t</VidPlayerContainer>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}